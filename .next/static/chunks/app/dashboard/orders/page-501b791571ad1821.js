(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[611],{43640:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var t=(0,r(77032).A)("outline","calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]])},55332:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var t=(0,r(77032).A)("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]])},55864:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var t=(0,r(77032).A)("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]])},57048:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var t=(0,r(77032).A)("outline","package","IconPackage",[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M16 5.25l-8 4.5",key:"svg-4"}]])},62569:(e,s,r)=>{"use strict";r.d(s,{OrderTable:()=>i});var t=r(59937),a=r(61822),l=r(69252),n=r(11420),d=r(24463),c=r(72283);function i(e){let{data:s,totalItems:r,columns:i}=e,[o]=(0,c.ZA)("perPage",c.GJ.withDefault(10)),h=Math.ceil(r/o),{table:u}=(0,d.u)({data:s,columns:i,pageCount:h,shallow:!1,debounceMs:500});return 0===s.length&&0===r?(0,t.jsx)(n.C1,{}):(0,t.jsx)(a.b,{table:u,children:(0,t.jsx)(l.w,{table:u})})}},67106:(e,s,r)=>{"use strict";r.d(s,{columns:()=>C});var t=r(59937),a=r(81998),l=r(40690),n=r(43640),d=r(90995),c=r(57048),i=r(77032),o=(0,i.A)("outline","currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]),h=r(84979),u=(0,i.A)("outline","truck","IconTruck",[["path",{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5",key:"svg-2"}]]),m=r(61366),g=r(3309),x=r(4678),v=r(43760),p=r(79655),y=r(69214),b=(0,i.A)("outline","printer","IconPrinter",[["path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4",key:"svg-1"}],["path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z",key:"svg-2"}]]),N=(0,i.A)("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]),j=r(55332),k=r(55864),w=r(275),E=r(25157);let A=e=>{let{data:s}=e,[r]=(0,E.useState)(!1),[a,l]=(0,E.useState)(!1),n=(0,w.useRouter)(),d=async()=>{},c=e=>{console.log("Updating order ".concat(s.orderNumber," to ").concat(e))},i="PENDING"===s.status||"PROCESSING"===s.status,o="PROCESSING"===s.status&&"PAID"===s.paymentStatus,h="SHIPPED"===s.status;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.W,{isOpen:a,onClose:()=>l(!1),onConfirm:d,loading:r,title:"Cancel Order",description:"Are you sure you want to cancel order ".concat(s.orderNumber,"? This action cannot be undone.")}),(0,t.jsxs)(x.rI,{modal:!1,children:[(0,t.jsx)(x.ty,{asChild:!0,children:(0,t.jsxs)(g.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,t.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,t.jsx)(v.A,{className:"h-4 w-4"})]})}),(0,t.jsxs)(x.SQ,{align:"end",children:[(0,t.jsx)(x.lp,{children:"Actions"}),(0,t.jsxs)(x._2,{onClick:()=>n.push("/dashboard/orders/".concat(s.id)),children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,t.jsxs)(x._2,{onClick:()=>n.push("/dashboard/orders/".concat(s.id,"/edit")),children:[(0,t.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Edit Order"]}),(0,t.jsxs)(x._2,{onClick:()=>window.print(),children:[(0,t.jsx)(b,{className:"mr-2 h-4 w-4"}),"Print Invoice"]}),(0,t.jsx)(x.mB,{}),"PENDING"===s.status&&(0,t.jsxs)(x._2,{onClick:()=>c("PROCESSING"),children:[(0,t.jsx)(N,{className:"mr-2 h-4 w-4"}),"Start Processing"]}),o&&(0,t.jsxs)(x._2,{onClick:()=>c("SHIPPED"),children:[(0,t.jsx)(u,{className:"mr-2 h-4 w-4"}),"Mark as Shipped"]}),h&&(0,t.jsxs)(x._2,{onClick:()=>c("DELIVERED"),children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Mark as Delivered"]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.mB,{}),(0,t.jsxs)(x._2,{onClick:()=>l(!0),className:"text-red-600 focus:text-red-600",children:[(0,t.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Cancel Order"]})]})]})]})]})},M={PENDING:"bg-yellow-500/10 text-yellow-600 border-yellow-200",PROCESSING:"bg-blue-500/10 text-blue-600 border-blue-200",SHIPPED:"bg-purple-500/10 text-purple-600 border-purple-200",DELIVERED:"bg-green-500/10 text-green-600 border-green-200",CANCELLED:"bg-red-500/10 text-red-600 border-red-200",REFUNDED:"bg-gray-500/10 text-gray-600 border-gray-200"},I={PENDING:"bg-yellow-500/10 text-yellow-600 border-yellow-200",PAID:"bg-green-500/10 text-green-600 border-green-200",FAILED:"bg-red-500/10 text-red-600 border-red-200",REFUNDED:"bg-gray-500/10 text-gray-600 border-gray-200"},P={PENDING:"bg-yellow-500/10 text-yellow-600 border-yellow-200",PROCESSING:"bg-blue-500/10 text-blue-600 border-blue-200",SHIPPED:"bg-purple-500/10 text-purple-600 border-purple-200",DELIVERED:"bg-green-500/10 text-green-600 border-green-200",RETURNED:"bg-orange-500/10 text-orange-600 border-orange-200"},C=[{id:"orderNumber",accessorKey:"orderNumber",header:e=>{let{column:s}=e;return(0,t.jsx)(l.w,{column:s,title:"Order #"})},cell:e=>{let{row:s}=e,r=s.original;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"font-medium",children:r.orderNumber}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center",children:[(0,t.jsx)(n.A,{className:"w-3 h-3 mr-1"}),new Date(r.createdAt).toLocaleDateString()]})]})}},{id:"customer",header:"Customer",cell:e=>{let{row:s}=e,r=s.original;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"font-medium flex items-center",children:[(0,t.jsx)(d.A,{className:"w-3 h-3 mr-1"}),r.user.firstName," ",r.user.lastName]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:r.user.email})]})}},{id:"items",header:"Items",cell:e=>{let{row:s}=e,r=s.original,a=r.items.length,l=r.items[0];return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"font-medium flex items-center",children:[(0,t.jsx)(c.A,{className:"w-3 h-3 mr-1"}),a," item",1!==a?"s":""]}),l&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[l.product.name,a>1&&" +".concat(a-1," more")]})]})}},{id:"total",header:e=>{let{column:s}=e;return(0,t.jsx)(l.w,{column:s,title:"Total"})},cell:e=>{let{row:s}=e,r=s.original;return(0,t.jsxs)("div",{className:"font-medium flex items-center",children:[(0,t.jsx)(o,{className:"w-3 h-3 mr-1"}),"R",r.totalAmount.toNumber().toFixed(2)]})}},{id:"status",accessorKey:"status",header:e=>{let{column:s}=e;return(0,t.jsx)(l.w,{column:s,title:"Status"})},cell:e=>{let{row:s}=e,r=s.original;return(0,t.jsx)(a.E,{className:M[r.status]||"bg-gray-500/10 text-gray-600 border-gray-200",children:r.status.toLowerCase()})}},{id:"paymentStatus",accessorKey:"paymentStatus",header:"Payment",cell:e=>{let{row:s}=e,r=s.original;return(0,t.jsxs)(a.E,{className:I[r.paymentStatus]||"bg-gray-500/10 text-gray-600 border-gray-200",children:[(0,t.jsx)(h.A,{className:"w-3 h-3 mr-1"}),r.paymentStatus.toLowerCase()]})}},{id:"shippingStatus",accessorKey:"shippingStatus",header:"Shipping",cell:e=>{let{row:s}=e,r=s.original;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(a.E,{className:P[r.shippingStatus]||"bg-gray-500/10 text-gray-600 border-gray-200",children:[(0,t.jsx)(u,{className:"w-3 h-3 mr-1"}),r.shippingStatus.toLowerCase()]}),r.trackingNumber&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["#",r.trackingNumber]})]})}},{id:"actions",cell:e=>{let{row:s}=e;return(0,t.jsx)(A,{data:s.original})}}]},79655:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var t=(0,r(77032).A)("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]])},81269:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,11518,23)),Promise.resolve().then(r.bind(r,93752)),Promise.resolve().then(r.bind(r,89738)),Promise.resolve().then(r.bind(r,24647)),Promise.resolve().then(r.bind(r,67106)),Promise.resolve().then(r.bind(r,62569))},84979:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var t=(0,r(77032).A)("outline","credit-card","IconCreditCard",[["path",{d:"M3 5m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M3 10l18 0",key:"svg-1"}],["path",{d:"M7 15l.01 0",key:"svg-2"}],["path",{d:"M11 15l2 0",key:"svg-3"}]])},90995:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var t=(0,r(77032).A)("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[6550,6341,1518,2109,2170,2259,9166,5269,2426,1170,9528,4420,2562,7358],()=>s(81269)),_N_E=e.O()}]);