(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9242],{1294:(e,s,a)=>{"use strict";e.exports=a(45861)},10238:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});var t=(0,a(77032).A)("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]])},20181:(e,s,a)=>{"use strict";a.d(s,{columns:()=>k});var t=a(59937),r=a(48066),n=a(81998),l=a(40690),i=a(77032),d=(0,i.A)("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),c=a(59594),o=(0,i.A)("outline","star","IconStar",[["path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z",key:"svg-0"}]]),u=a(43640),h=a(61366),m=a(3309),v=a(4678),x=a(43760),g=a(79655),p=a(69214),f=(0,i.A)("outline","map-pin","IconMapPin",[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]]),j=(0,i.A)("outline","shield","IconShield",[["path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3",key:"svg-0"}]]),y=a(10238),N=a(275),A=a(25157);let b=e=>{let{data:s}=e,[a]=(0,A.useState)(!1),[r,n]=(0,A.useState)(!1),l=(0,N.useRouter)(),i=async()=>{},c=["ADMIN","SUPER_ADMIN","MANAGER"].includes(s.role);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.W,{isOpen:r,onClose:()=>n(!1),onConfirm:i,loading:a,title:"Delete User",description:"Are you sure you want to delete ".concat(s.firstName," ").concat(s.lastName,"? This action cannot be undone.")}),(0,t.jsxs)(v.rI,{modal:!1,children:[(0,t.jsx)(v.ty,{asChild:!0,children:(0,t.jsxs)(m.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,t.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,t.jsx)(x.A,{className:"h-4 w-4"})]})}),(0,t.jsxs)(v.SQ,{align:"end",children:[(0,t.jsx)(v.lp,{children:"Actions"}),(0,t.jsxs)(v._2,{onClick:()=>l.push("/dashboard/users/".concat(s.id)),children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"View Profile"]}),(0,t.jsxs)(v._2,{onClick:()=>l.push("/dashboard/users/".concat(s.id,"/edit")),children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Edit User"]}),(0,t.jsxs)(v._2,{onClick:()=>l.push("/dashboard/users/".concat(s.id,"/addresses")),children:[(0,t.jsx)(f,{className:"mr-2 h-4 w-4"}),"Manage Addresses"]}),(0,t.jsx)(v.mB,{}),(0,t.jsxs)(v._2,{onClick:()=>window.open("mailto:".concat(s.email),"_blank"),children:[(0,t.jsx)(d,{className:"mr-2 h-4 w-4"}),"Send Email"]}),!c&&(0,t.jsxs)(v._2,{onClick:()=>l.push("/dashboard/users/".concat(s.id,"/permissions")),children:[(0,t.jsx)(j,{className:"mr-2 h-4 w-4"}),"Manage Permissions"]}),(0,t.jsx)(v.mB,{}),(0,t.jsxs)(v._2,{onClick:()=>n(!0),className:"text-red-600 focus:text-red-600",children:[(0,t.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})]})},w={CUSTOMER:"bg-blue-500/10 text-blue-600 border-blue-200",STAFF:"bg-green-500/10 text-green-600 border-green-200",MANAGER:"bg-purple-500/10 text-purple-600 border-purple-200",ADMIN:"bg-red-500/10 text-red-600 border-red-200",SUPER_ADMIN:"bg-gray-500/10 text-gray-600 border-gray-200"},k=[{id:"user",header:"User",cell:e=>{var s,a;let{row:n}=e,l=n.original,i="".concat((null==(s=l.firstName)?void 0:s.charAt(0))||"").concat((null==(a=l.lastName)?void 0:a.charAt(0))||"").toUpperCase()||"U";return(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(r.Avatar,{className:"h-10 w-10",children:[(0,t.jsx)(r.AvatarImage,{src:l.imageUrl||void 0,alt:"Avatar"}),(0,t.jsx)(r.AvatarFallback,{children:i})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium",children:[l.firstName," ",l.lastName]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center",children:[(0,t.jsx)(d,{className:"w-3 h-3 mr-1"}),l.email]})]})]})}},{id:"role",accessorKey:"role",header:e=>{let{column:s}=e;return(0,t.jsx)(l.w,{column:s,title:"Role"})},cell:e=>{let{row:s}=e,a=s.original;return(0,t.jsx)(n.E,{className:w[a.role]||"bg-gray-500/10 text-gray-600 border-gray-200",children:a.role.replace("_"," ").toLowerCase()})}},{id:"activity",header:"Activity",cell:e=>{let{row:s}=e,a=s.original;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(c.A,{className:"w-3 h-3 text-muted-foreground"}),(0,t.jsxs)("span",{children:[a._count.orders," orders"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,t.jsx)(o,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:[a._count.reviews," reviews"]})]})]})}},{id:"addresses",header:"Addresses",cell:e=>{let{row:s}=e,a=s.original.addresses.length;return(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium",children:a}),(0,t.jsxs)("span",{className:"text-muted-foreground ml-1",children:["address",1!==a?"es":""]})]})}},{id:"joinedAt",accessorKey:"createdAt",header:e=>{let{column:s}=e;return(0,t.jsx)(l.w,{column:s,title:"Joined"})},cell:e=>{let{row:s}=e,a=s.original;return(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(u.A,{className:"w-3 h-3 text-muted-foreground"}),(0,t.jsx)("span",{children:new Date(a.createdAt).toLocaleDateString()})]})}},{id:"actions",cell:e=>{let{row:s}=e;return(0,t.jsx)(b,{data:s.original})}}]},43640:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});var t=(0,a(77032).A)("outline","calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]])},45861:(e,s,a)=>{"use strict";var t=a(25157),r="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},n=t.useState,l=t.useEffect,i=t.useLayoutEffect,d=t.useDebugValue;function c(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!r(e,a)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,s){return s()}:function(e,s){var a=s(),t=n({inst:{value:a,getSnapshot:s}}),r=t[0].inst,o=t[1];return i(function(){r.value=a,r.getSnapshot=s,c(r)&&o({inst:r})},[e,a,s]),l(function(){return c(r)&&o({inst:r}),e(function(){c(r)&&o({inst:r})})},[e]),d(a),a};s.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:o},48066:(e,s,a)=>{"use strict";a.d(s,{Avatar:()=>l,AvatarFallback:()=>d,AvatarImage:()=>i});var t=a(59937);a(25157);var r=a(71109),n=a(78602);function l(e){let{className:s,...a}=e;return(0,t.jsx)(r.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...a})}function i(e){let{className:s,...a}=e;return(0,t.jsx)(r._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...a})}},57110:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,11518,23)),Promise.resolve().then(a.bind(a,93752)),Promise.resolve().then(a.bind(a,89738)),Promise.resolve().then(a.bind(a,24647)),Promise.resolve().then(a.bind(a,20181)),Promise.resolve().then(a.bind(a,74149))},59594:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});var t=(0,a(77032).A)("outline","shopping-bag","IconShoppingBag",[["path",{d:"M6.331 8h11.339a2 2 0 0 1 1.977 2.304l-1.255 8.152a3 3 0 0 1 -2.966 2.544h-6.852a3 3 0 0 1 -2.965 -2.544l-1.255 -8.152a2 2 0 0 1 1.977 -2.304z",key:"svg-0"}],["path",{d:"M9 11v-5a3 3 0 0 1 6 0v5",key:"svg-1"}]])},71109:(e,s,a)=>{"use strict";a.d(s,{H4:()=>w,_V:()=>b,bL:()=>A});var t=a(25157),r=a(31121),n=a(93822),l=a(98352),i=a(94497),d=a(1294);function c(){return()=>{}}var o=a(59937),u="Avatar",[h,m]=(0,r.A)(u),[v,x]=h(u),g=t.forwardRef((e,s)=>{let{__scopeAvatar:a,...r}=e,[n,l]=t.useState("idle");return(0,o.jsx)(v,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,o.jsx)(i.sG.span,{...r,ref:s})})});g.displayName=u;var p="AvatarImage",f=t.forwardRef((e,s)=>{let{__scopeAvatar:a,src:r,onLoadingStatusChange:u=()=>{},...h}=e,m=x(p,a),v=function(e,s){let{referrerPolicy:a,crossOrigin:r}=s,n=(0,d.useSyncExternalStore)(c,()=>!0,()=>!1),i=t.useRef(null),o=n?(i.current||(i.current=new window.Image),i.current):null,[u,h]=t.useState(()=>N(o,e));return(0,l.N)(()=>{h(N(o,e))},[o,e]),(0,l.N)(()=>{let e=e=>()=>{h(e)};if(!o)return;let s=e("loaded"),t=e("error");return o.addEventListener("load",s),o.addEventListener("error",t),a&&(o.referrerPolicy=a),"string"==typeof r&&(o.crossOrigin=r),()=>{o.removeEventListener("load",s),o.removeEventListener("error",t)}},[o,r,a]),u}(r,h),g=(0,n.c)(e=>{u(e),m.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==v&&g(v)},[v,g]),"loaded"===v?(0,o.jsx)(i.sG.img,{...h,ref:s,src:r}):null});f.displayName=p;var j="AvatarFallback",y=t.forwardRef((e,s)=>{let{__scopeAvatar:a,delayMs:r,...n}=e,l=x(j,a),[d,c]=t.useState(void 0===r);return t.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(e)}},[r]),d&&"loaded"!==l.imageLoadingStatus?(0,o.jsx)(i.sG.span,{...n,ref:s}):null});function N(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}y.displayName=j;var A=g,b=f,w=y},74149:(e,s,a)=>{"use strict";a.d(s,{UserTable:()=>c});var t=a(59937),r=a(61822),n=a(69252),l=a(11420),i=a(24463),d=a(72283);function c(e){let{data:s,totalItems:a,columns:c}=e,[o]=(0,d.ZA)("perPage",d.GJ.withDefault(10)),u=Math.ceil(a/o),{table:h}=(0,i.u)({data:s,columns:c,pageCount:u,shallow:!1,debounceMs:500});return 0===s.length&&0===a?(0,t.jsx)(l.BM,{}):(0,t.jsx)(r.b,{table:h,children:(0,t.jsx)(n.w,{table:h})})}},79655:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});var t=(0,a(77032).A)("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[6550,6341,1518,2109,2170,2259,9166,5269,2426,1170,9528,4420,2562,7358],()=>s(57110)),_N_E=e.O()}]);