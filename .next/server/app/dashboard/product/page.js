(()=>{var e={};e.id=1505,e.ids=[1505],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10668:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,95862,23)),Promise.resolve().then(r.bind(r,26482)),Promise.resolve().then(r.bind(r,97680)),Promise.resolve().then(r.bind(r,48625)),Promise.resolve().then(r.bind(r,41334)),Promise.resolve().then(r.bind(r,47279))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12500:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j,metadata:()=>f});var s=r(30535),a=r(37694),o=r(68685),i=r(38071),n=r(97680),l=r(44557),d=r(32368),c=r(16893),u=r(47279),m=r(41334);async function p({}){let e=c.F$.get("page"),t=c.F$.get("name"),r=c.F$.get("perPage"),a=c.F$.get("category"),o={...t&&{search:t},...a&&{categoryId:a},isActive:!0},{products:i,pagination:n}=await d.bk.getProducts({filters:o,page:e||1,limit:r||10,sort:{field:"createdAt",direction:"desc"}});return(0,s.jsx)(u.ProductTable,{data:i,totalItems:n.total,columns:m.columns})}var h=r(38462),x=r(440),v=r(95862),b=r.n(v),g=r(75186);let f={title:"Dashboard: Products"};async function j(e){let t=await e.searchParams;return c.F$.parse(t),(0,s.jsx)(a.A,{scrollable:!1,children:(0,s.jsxs)("div",{className:"flex flex-1 flex-col space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsx)(i.D,{title:"Products",description:"Manage products (Server side table functionalities.)"}),(0,s.jsxs)(b(),{href:"/dashboard/product/new",className:(0,h.cn)((0,o.r)(),"text-xs md:text-sm"),children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Add New"]})]}),(0,s.jsx)(n.Separator,{}),(0,s.jsx)(g.Suspense,{fallback:(0,s.jsx)(l.O,{columnCount:5,rowCount:8,filterCount:2}),children:(0,s.jsx)(p,{})})]})})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41334:(e,t,r)=>{"use strict";r.d(t,{columns:()=>s});let s=(0,r(1609).registerClientReference)(function(){throw Error("Attempted to call columns() from the server but columns is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/dux/Desktop/store/admin/src/features/products/components/product-tables/columns.tsx","columns")},47279:(e,t,r)=>{"use strict";r.d(t,{ProductTable:()=>s});let s=(0,r(1609).registerClientReference)(function(){throw Error("Attempted to call ProductTable() from the server but ProductTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/dux/Desktop/store/admin/src/features/products/components/product-tables/index.tsx","ProductTable")},60786:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.default,__next_app__:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>l});var s=r(54625),a=r(30662),o=r(55369),i=r(38471),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let l={children:["",{children:["dashboard",{children:["product",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,12500)),"/home/dux/Desktop/store/admin/src/app/dashboard/product/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,90214)),"/home/dux/Desktop/store/admin/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,40810))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,20425)),"/home/dux/Desktop/store/admin/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(r.bind(r,55369)),"/home/dux/Desktop/store/admin/src/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,94317)),"/home/dux/Desktop/store/admin/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,98765,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1674,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,40810))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/dux/Desktop/store/admin/src/app/dashboard/product/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/product/page",pathname:"/dashboard/product",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69273:(e,t,r)=>{"use strict";r.d(t,{ProductTable:()=>d});var s=r(33333),a=r(24470),o=r(26456),i=r(63193),n=r(68340),l=r(83684);function d({data:e,totalItems:t,columns:r}){let[d]=(0,l.ZA)("perPage",l.GJ.withDefault(10)),c=Math.ceil(t/d),{table:u}=(0,n.u)({data:e,columns:r,pageCount:c,shallow:!1,debounceMs:500});return 0===e.length&&0===t?(0,s.jsx)(o.jS,{}):(0,s.jsx)(a.b,{table:u,children:(0,s.jsx)(i.w,{table:u})})}},73024:e=>{"use strict";e.exports=require("node:fs")},74075:e=>{"use strict";e.exports=require("zlib")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},79551:e=>{"use strict";e.exports=require("url")},94343:(e,t,r)=>{"use strict";r.d(t,{columns:()=>y});var s=r(33333),a=r(12386),o=r(53636),i=r(59056);let n=(0,i.A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),l=(0,i.A)("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]),d=(0,i.A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var c=r(73976),u=r(79608),m=r(8453),p=r(97587),h=r(12734),x=r(61840),v=r(19746),b=r(25980),g=r(54223),f=r(24176);let j=({data:e})=>{let[t]=(0,f.useState)(!1),[r,a]=(0,f.useState)(!1),o=(0,g.useRouter)(),i=async()=>{};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.W,{isOpen:r,onClose:()=>a(!1),onConfirm:i,loading:t}),(0,s.jsxs)(h.rI,{modal:!1,children:[(0,s.jsx)(h.ty,{asChild:!0,children:(0,s.jsxs)(p.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,s.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,s.jsx)(x.A,{className:"h-4 w-4"})]})}),(0,s.jsxs)(h.SQ,{align:"end",children:[(0,s.jsx)(h.lp,{children:"Actions"}),(0,s.jsxs)(h._2,{onClick:()=>o.push(`/dashboard/products/${e.id}/variants`),children:[(0,s.jsx)(v.A,{className:"mr-2 h-4 w-4"})," Manage Variants"]}),(0,s.jsxs)(h._2,{onClick:()=>o.push(`/dashboard/products/${e.slug}`),children:[(0,s.jsx)(v.A,{className:"mr-2 h-4 w-4"})," Edit Product"]}),(0,s.jsxs)(h._2,{onClick:()=>a(!0),children:[(0,s.jsx)(b.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})},y=[{id:"image",header:"IMAGE",cell:({row:e})=>{let t=e.original,r=t.images.find(e=>e.isPrimary)||t.images[0];return(0,s.jsx)("div",{className:"relative aspect-square w-16 h-16",children:r?(0,s.jsx)(u.default,{src:r.url,alt:r.altText||t.name,fill:!0,className:"rounded-lg object-cover"}):(0,s.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg flex items-center justify-center",children:(0,s.jsx)(n,{className:"w-6 h-6 text-gray-400"})})})}},{id:"name",accessorKey:"name",header:({column:e})=>(0,s.jsx)(o.w,{column:e,title:"Name"}),cell:({row:e})=>{let t=e.original;return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"font-medium",children:t.name}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:t.sku})]})},meta:{label:"Name",placeholder:"Search products...",variant:"text",icon:l},enableColumnFilter:!0},{id:"category",header:({column:e})=>(0,s.jsx)(o.w,{column:e,title:"Category"}),cell:({row:e})=>{let t=e.original;return(0,s.jsx)(a.E,{variant:"outline",className:"capitalize",children:t.category.name})},enableColumnFilter:!0,meta:{label:"categories",variant:"multiSelect",options:[{value:"Electronics",label:"Electronics"},{value:"Furniture",label:"Furniture"},{value:"Clothing",label:"Clothing"},{value:"Toys",label:"Toys"},{value:"Groceries",label:"Groceries"},{value:"Books",label:"Books"},{value:"Jewelry",label:"Jewelry"},{value:"Beauty Products",label:"Beauty Products"}]}},{id:"brand",header:"BRAND",cell:({row:e})=>{let t=e.original;return(0,s.jsx)("div",{className:"font-medium",children:t.brand.name})}},{id:"price",header:"PRICE",cell:({row:e})=>{let t=e.original,r=Math.min(...t.variants.map(e=>e.price.toNumber())),a=Math.max(...t.variants.map(e=>e.price.toNumber()));return(0,s.jsx)("div",{className:"font-medium",children:r===a?`R${r.toFixed(2)}`:`R${r.toFixed(2)} - R${a.toFixed(2)}`})}},{id:"stock",header:"STOCK",cell:({row:e})=>{let t=e.original,r=t.variants.reduce((e,t)=>e+t.stock,0),o=t.variants.some(e=>e.stock<=e.lowStockThreshold);return(0,s.jsxs)(a.E,{variant:o?"destructive":r>0?"default":"secondary",children:[r," units"]})}},{id:"status",header:"STATUS",cell:({row:e})=>{let t=e.original,r=t.isActive&&"ACTIVE"===t.status,o=r?d:c.A;return(0,s.jsxs)(a.E,{variant:r?"default":"secondary",className:"capitalize",children:[(0,s.jsx)(o,{className:"w-3 h-3 mr-1"}),r?"Active":"Inactive"]})}},{id:"actions",cell:({row:e})=>(0,s.jsx)(j,{data:e.original})}]},94367:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,60168,23)),Promise.resolve().then(r.bind(r,34116)),Promise.resolve().then(r.bind(r,26030)),Promise.resolve().then(r.bind(r,38115)),Promise.resolve().then(r.bind(r,94343)),Promise.resolve().then(r.bind(r,69273))},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8291,3861,8281,5958,1151,2257,6912,6395,2505,8363,3662,8850],()=>r(60786));module.exports=s})();